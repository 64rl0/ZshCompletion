#compdef pip3

__pip() {
  compadd $( COMP_WORDS="$words[*]" \
             COMP_CWORD=$((CURRENT-1)) \
             PIP_AUTO_COMPLETE=1 $words[1] 2>/dev/null )
}

# don't run the completion function when being source-ed or eval-ed
if [ "$funcstack[1]" = "_pip3" ]; then
    __pip "$@"
fi
